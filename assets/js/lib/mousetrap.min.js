((e,o)=>{if(e){for(var r,a={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},n={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},c={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},t=1;t<20;++t)a[111+t]="f"+t;for(t=0;t<=9;++t)a[t+96]=t.toString();_.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},_.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},_.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},_.prototype.reset=function(){return this._callbacks={},this._directMap={},this},_.prototype.stopCallback=function(e,t){var n;return!(-1<(" "+t.className+" ").indexOf(" mousetrap ")||function e(t,n){return null!==t&&t!==o&&(t===n||e(t.parentNode,n))}(t,this.target))&&("INPUT"==(t="composedPath"in e&&"function"==typeof e.composedPath&&(n=e.composedPath()[0])!==e.target?n:t).tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},_.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},_.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);r=null},(_.init=function(){var e,t=_(o);for(e in t)"_"!==e.charAt(0)&&(_[e]=(e=>function(){return t[e].apply(t,arguments)})(e))})(),e.Mousetrap=_,"undefined"!=typeof module&&module.exports&&(module.exports=_),"function"==typeof define&&define.amd&&define(function(){return _})}function b(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function g(e){var t;return"keypress"==e.type?(t=String.fromCharCode(e.which),e.shiftKey?t:t.toLowerCase()):a[e.which]||n[e.which]||String.fromCharCode(e.which).toLowerCase()}function v(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function s(e,t,n){return n="keypress"==(n=n||((()=>{if(!r)for(var e in r={},a)95<e&&e<112||a.hasOwnProperty(e)&&(r[a[e]]=e);return r})()[e]?"keydown":"keypress"))&&t.length?"keydown":n}function w(e,t){for(var n,o=[],r="+"===(e=e)?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+"),a=0;a<r.length;++a)n=r[a],c[n]&&(n=c[n]),t&&"keypress"!=t&&i[n]&&(n=i[n],o.push("shift")),v(n)&&o.push(n);return{key:n,modifiers:o,action:t=s(n,o,t)}}function _(e){var f=this;if(e=e||o,!(f instanceof _))return new _(e);f.target=e,f._callbacks={};var s,h={},l=!(f._directMap={}),u=!1,p=!1;function d(e){e=e||{};var t,n=!1;for(t in h)e[t]?n=!0:h[t]=0;n||(p=!1)}function y(e,t,n,o,r,a){var i,c=[],s=n.type;if(!f._callbacks[e])return[];for("keyup"==s&&v(e)&&(t=[e]),i=0;i<f._callbacks[e].length;++i){var l,u,p=f._callbacks[e][i];!o&&p.seq&&h[p.seq]!=p.level||s!=p.action||("keypress"!=s||n.metaKey||n.ctrlKey)&&(l=t,u=p.modifiers,l.sort().join(",")!==u.sort().join(","))||(l=!o&&p.combo==r,u=o&&p.seq==o&&p.level==a,(l||u)&&f._callbacks[e].splice(i,1),c.push(p))}return c}function m(e,t,n,o){f.stopCallback(t,t.target||t.srcElement,n,o)||!1===e(t,n)&&((o=t).preventDefault?o.preventDefault():o.returnValue=!1,(e=t).stopPropagation?e.stopPropagation():e.cancelBubble=!0)}function t(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,n=g(e);n&&("keyup"==e.type&&l===n?l=!1:f.handleKey(n,(n=[],(t=e).shiftKey&&n.push("shift"),t.altKey&&n.push("alt"),t.ctrlKey&&n.push("ctrl"),t.metaKey&&n.push("meta"),n),e))}function i(t,e,n,o){function r(e){return function(){p=e,++h[t],clearTimeout(s),s=setTimeout(d,1e3)}}function a(e){m(n,e,t),"keyup"!==o&&(l=g(e)),setTimeout(d,10)}for(var i=h[t]=0;i<e.length;++i){var c=i+1===e.length?a:r(o||w(e[i+1]).action);k(e[i],c,o,t,i)}}function k(e,t,n,o,r){f._directMap[e+":"+n]=t;var a=(e=e.replace(/\s+/g," ")).split(" ");1<a.length?i(e,a,t,n):(a=w(e,n),f._callbacks[a.key]=f._callbacks[a.key]||[],y(a.key,a.modifiers,{type:a.action},o,e,r),f._callbacks[a.key][o?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:o,level:r,combo:e}))}f._handleKey=function(e,t,n){for(var o=y(e,t,n),r={},a=0,i=!1,c=0;c<o.length;++c)o[c].seq&&(a=Math.max(a,o[c].level));for(c=0;c<o.length;++c)o[c].seq?o[c].level==a&&(i=!0,r[o[c].seq]=1,m(o[c].callback,n,o[c].combo,o[c].seq)):i||m(o[c].callback,n,o[c].combo);t="keypress"==n.type&&u;n.type!=p||v(e)||t||d(r),u=i&&"keydown"==n.type},f._bindMultiple=function(e,t,n){for(var o=0;o<e.length;++o)k(e[o],t,n)},b(e,"keypress",t),b(e,"keydown",t),b(e,"keyup",t)}})("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null);
